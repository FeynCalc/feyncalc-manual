% !TeX program = pdflatex
% !TeX root = FCTopology.tex

\documentclass[../FeynCalcManual.tex]{subfiles}
\begin{document}
\hypertarget{fctopology}{
\section{FCTopology}\label{fctopology}\index{FCTopology}}

\texttt{FCTopology[\allowbreak{}id,\ \allowbreak{}\{\allowbreak{}prop1,\ \allowbreak{}prop2,\ \allowbreak{}...\},\ \allowbreak{}\{\allowbreak{}l1,\ \allowbreak{}l2,\ \allowbreak{}...\},\ \allowbreak{}\{\allowbreak{}p1,\ \allowbreak{}p2,\ \allowbreak{}...\},\ \allowbreak{}\{\allowbreak{}kRule1,\ \allowbreak{}kRule2,\ \allowbreak{}...\},\ \allowbreak{}\{\allowbreak{}\}]}
denotes a topology with the identifier \texttt{id} that is characterized
by the propagators
\texttt{\{\allowbreak{}prop1,\ \allowbreak{}prop2,\ \allowbreak{}...\}}.
The propagators in the list do not necessarily have to form a valid
basis, i.e.~the basis may also be incomplete or overdetermined. The
lists \texttt{\{\allowbreak{}l1,\ \allowbreak{}l2,\ \allowbreak{}...\}}
and \texttt{\{\allowbreak{}p1,\ \allowbreak{}p2,\ \allowbreak{}...\}}
stand for the loop and external momenta respectively. Furthermore,
\{kRule1, kRule2, \ldots\} denotes replacement rules for kinematic
invariants.

The last argument (an empty list) is reserved for future improvements.

\subsection{See also}

\hyperlink{toc}{Overview}, \hyperlink{fcloopfromgli}{FCLoopFromGLI},
\hyperlink{fcloopvalidtopologyq}{FCLoopValidTopologyQ},
\hyperlink{gli}{GLI}.

\subsection{Examples}

A 2-loop topology with one external momentum \texttt{Q}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{FCTopology}\OperatorTok{[}\NormalTok{topo1}\OperatorTok{,} \OperatorTok{\{}\NormalTok{SFAD}\OperatorTok{[}\NormalTok{p1}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\NormalTok{p2}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p1 }\SpecialCharTok{{-}}\NormalTok{ p2}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p2}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p1}\OperatorTok{]\},} \OperatorTok{\{}\NormalTok{p1}\OperatorTok{,}\NormalTok{ p2}\OperatorTok{\},} \OperatorTok{\{}\FunctionTok{Q}\OperatorTok{\},} \OperatorTok{\{}
   \FunctionTok{Hold}\OperatorTok{[}\NormalTok{SPD}\OperatorTok{[}\FunctionTok{Q}\OperatorTok{]]} \OtherTok{{-}\textgreater{}}\NormalTok{ qq}\OperatorTok{\},} \OperatorTok{\{\}]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\text{FCTopology}\left(\text{topo1},\left\{\frac{1}{(\text{p1}^2+i \eta )},\frac{1}{(\text{p2}^2+i \eta )},\frac{1}{((-\text{p1}-\text{p2}+Q)^2+i \eta )},\frac{1}{((Q-\text{p2})^2+i \eta )},\frac{1}{((Q-\text{p1})^2+i \eta )}\right\},\{\text{p1},\text{p2}\},\{Q\},\{\text{Hold}[\text{SPD}(Q)]\to \;\text{qq}\},\{\}\right)
\end{dmath*}

A 3-loop topology with one external momentum \texttt{Q}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{topo }\ExtensionTok{=}\NormalTok{ FCTopology}\OperatorTok{[}\NormalTok{topo2}\OperatorTok{,} \OperatorTok{\{}\NormalTok{SFAD}\OperatorTok{[}\NormalTok{p1}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\NormalTok{p2}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\NormalTok{p3}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p1 }\SpecialCharTok{{-}}\NormalTok{ p2 }\SpecialCharTok{{-}}\NormalTok{ p3}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p1 }\SpecialCharTok{{-}}\NormalTok{ p2}\OperatorTok{],} 
\NormalTok{    SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p1}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p2}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\NormalTok{p1 }\SpecialCharTok{+}\NormalTok{ p3}\OperatorTok{],}\NormalTok{ SFAD}\OperatorTok{[}\NormalTok{p2 }\SpecialCharTok{+}\NormalTok{ p3}\OperatorTok{]\},} \OperatorTok{\{}\NormalTok{p1}\OperatorTok{,}\NormalTok{ p2}\OperatorTok{,}\NormalTok{ p3}\OperatorTok{\},} \OperatorTok{\{}\FunctionTok{Q}\OperatorTok{\},} \OperatorTok{\{\},} \OperatorTok{\{\}]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\text{FCTopology}\left(\text{topo2},\left\{\frac{1}{(\text{p1}^2+i \eta )},\frac{1}{(\text{p2}^2+i \eta )},\frac{1}{(\text{p3}^2+i \eta )},\frac{1}{((-\text{p1}-\text{p2}-\text{p3}+Q)^2+i \eta )},\frac{1}{((-\text{p1}-\text{p2}+Q)^2+i \eta )},\frac{1}{((Q-\text{p1})^2+i \eta )},\frac{1}{((Q-\text{p2})^2+i \eta )},\frac{1}{((\text{p1}+\text{p3})^2+i \eta )},\frac{1}{((\text{p2}+\text{p3})^2+i \eta )}\right\},\{\text{p1},\text{p2},\text{p3}\},\{Q\},\{\},\{\}\right)
\end{dmath*}

Use \texttt{FCLoopValidTopologyQ} to check if the syntax of the given
topology is correct.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{FCLoopValidTopologyQ}\OperatorTok{[}\NormalTok{topo}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\text{True}
\end{dmath*}

The list of propagators in the topology essentially defines the
propagator representation of a \texttt{GLI}. Notice that propagators are
allowed to have symbolical or numerical prefactors, as long as those do
not depend on loop or external momenta

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{topo2 }\ExtensionTok{=}\NormalTok{ FCTopology}\OperatorTok{[}\NormalTok{topoTest}\OperatorTok{,} \OperatorTok{\{}\FunctionTok{a}\NormalTok{ SFAD}\OperatorTok{[}\NormalTok{p1}\OperatorTok{],} \FunctionTok{b}\NormalTok{ SFAD}\OperatorTok{[}\NormalTok{p2}\OperatorTok{],} \FunctionTok{c}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p1 }\SpecialCharTok{{-}}\NormalTok{ p2}\OperatorTok{],} \FunctionTok{d}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p2}\OperatorTok{],} 
    \FunctionTok{e}\NormalTok{ SFAD}\OperatorTok{[}\FunctionTok{Q} \SpecialCharTok{{-}}\NormalTok{ p1}\OperatorTok{]\},} \OperatorTok{\{}\NormalTok{p1}\OperatorTok{,}\NormalTok{ p2}\OperatorTok{\},} \OperatorTok{\{}\FunctionTok{Q}\OperatorTok{\},} \OperatorTok{\{\},} \OperatorTok{\{\}]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\text{FCTopology}\left(\text{topoTest},\left\{\frac{a}{(\text{p1}^2+i \eta )},\frac{b}{(\text{p2}^2+i \eta )},\frac{c}{((-\text{p1}-\text{p2}+Q)^2+i \eta )},\frac{d}{((Q-\text{p2})^2+i \eta )},\frac{e}{((Q-\text{p1})^2+i \eta )}\right\},\{\text{p1},\text{p2}\},\{Q\},\{\},\{\}\right)
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{FCLoopFromGLI}\OperatorTok{[}\NormalTok{GLI}\OperatorTok{[}\NormalTok{topoTest}\OperatorTok{,} \OperatorTok{\{}\DecValTok{1}\OperatorTok{,} \DecValTok{1}\OperatorTok{,} \DecValTok{1}\OperatorTok{,} \DecValTok{1}\OperatorTok{,} \DecValTok{1}\OperatorTok{\}],}\NormalTok{ topo2}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\frac{a b c d e}{(\text{p1}^2+i \eta ) (\text{p2}^2+i \eta ) ((Q-\text{p1})^2+i \eta ) ((Q-\text{p2})^2+i \eta ) ((-\text{p1}-\text{p2}+Q)^2+i \eta )}
\end{dmath*}
\end{document}
