% !TeX program = pdflatex
% !TeX root = OneLoopSimplify.tex

\documentclass[../FeynCalcManual.tex]{subfiles}
\begin{document}
\hypertarget{oneloopsimplify}{
\section{OneLoopSimplify}\label{oneloopsimplify}\index{OneLoopSimplify}}

\texttt{OneLoopSimplify[\allowbreak{}amp,\ \allowbreak{}q]} simplifies
the one-loop amplitude amp. The second argument denotes the integration
momentum.

If the first argument has head \texttt{FeynAmp} then
\texttt{OneLoopSimplify[\allowbreak{}FeynAmp[\allowbreak{}name,\ \allowbreak{}k,\ \allowbreak{}expr],\ \allowbreak{}k]}
transforms to
\texttt{OneLoopSimplify[\allowbreak{}expr,\ \allowbreak{}k]}

\subsection{See also}

\hyperlink{toc}{Overview}, \hyperlink{tid}{TID}, \hyperlink{tidl}{TIDL}.

\subsection{Examples}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{SPD}\OperatorTok{[}\FunctionTok{k}\OperatorTok{,} \FunctionTok{r}\OperatorTok{]}\NormalTok{ FAD}\OperatorTok{[\{}\FunctionTok{k}\OperatorTok{,} \FunctionTok{m}\OperatorTok{\}} \OperatorTok{,} \FunctionTok{k} \SpecialCharTok{{-}} \FunctionTok{p}\OperatorTok{]} \SpecialCharTok{//}\NormalTok{ FCI }
 
\NormalTok{OneLoopSimplify}\OperatorTok{[}\SpecialCharTok{\%}\OperatorTok{,} \FunctionTok{k}\OperatorTok{]} 
 
\NormalTok{OneLoopSimplify}\OperatorTok{[}\SpecialCharTok{\%} \OtherTok{/.} \FunctionTok{m} \OtherTok{{-}\textgreater{}} \DecValTok{0}\OperatorTok{,} \FunctionTok{k}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\frac{k\cdot r}{\left(k^2-m^2\right).(k-p)^2}
\end{dmath*}

\begin{dmath*}\breakingcomma
\frac{\left(m^2+p^2\right) (p\cdot r)}{2 p^2 k^2.\left((k-p)^2-m^2\right)}-\frac{p\cdot r}{2 p^2 \left(k^2-m^2\right)}
\end{dmath*}

\begin{dmath*}\breakingcomma
\frac{p\cdot r}{2 k^2.(k-p)^2}
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{FAD}\OperatorTok{[}\FunctionTok{k}\OperatorTok{,} \FunctionTok{k}\OperatorTok{,} \FunctionTok{k} \SpecialCharTok{{-}} \FunctionTok{Subscript}\OperatorTok{[}\FunctionTok{p}\OperatorTok{,} \DecValTok{1}\OperatorTok{],} \FunctionTok{k} \SpecialCharTok{{-}} \FunctionTok{Subscript}\OperatorTok{[}\FunctionTok{p}\OperatorTok{,} \DecValTok{2}\OperatorTok{]]}\NormalTok{ FVD}\OperatorTok{[}\FunctionTok{k}\OperatorTok{,} \SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]]} \SpecialCharTok{//}\NormalTok{ FCI }
 
\NormalTok{OneLoopSimplify}\OperatorTok{[} \SpecialCharTok{\%}\OperatorTok{,} \FunctionTok{k}\OperatorTok{]} 
 
\NormalTok{FCE}\OperatorTok{[}\SpecialCharTok{\%}\OperatorTok{]} \OtherTok{/.}\NormalTok{ SPD}\OperatorTok{[}\FunctionTok{Subscript}\OperatorTok{[}\FunctionTok{p}\OperatorTok{,} \DecValTok{1}\OperatorTok{]]} \OtherTok{{-}\textgreater{}} \DecValTok{0} \SpecialCharTok{//}\NormalTok{ FCI}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\frac{k^{\mu }}{\left(k^2\right)^2.(k-p_1){}^2.(k-p_2){}^2}
\end{dmath*}

\begin{dmath*}\breakingcomma
\frac{p_1{}^2 p_2{}^{\mu }-p_1{}^{\mu } \left(p_1\cdot p_2\right)}{2 \left(k^2\right)^2.(k-p_1){}^2 \left((p_1\cdot p_2){}^2-p_1{}^2 p_2{}^2\right)}+\frac{-p_1{}^2 p_2{}^2 p_1{}^{\mu }-p_1{}^2 p_2{}^2 p_2{}^{\mu }+p_1{}^2 p_2{}^{\mu } \left(p_1\cdot p_2\right)+p_2{}^2 p_1{}^{\mu } \left(p_1\cdot p_2\right)}{2 \left(k^2\right)^2.(k-p_1){}^2.(k-p_2){}^2 \left((p_1\cdot p_2){}^2-p_1{}^2 p_2{}^2\right)}-\frac{p_2{}^{\mu } \left(p_1\cdot p_2\right)-p_2{}^2 p_1{}^{\mu }}{2 \left(k^2\right)^2.(k-p_2){}^2 \left((p_1\cdot p_2){}^2-p_1{}^2 p_2{}^2\right)}-\frac{p_1{}^2 p_2{}^{\mu }+p_2{}^2 p_1{}^{\mu }-p_1{}^{\mu } \left(p_1\cdot p_2\right)-p_2{}^{\mu } \left(p_1\cdot p_2\right)}{2 k^2.(k-p_1){}^2.(k-p_2){}^2 \left((p_1\cdot p_2){}^2-p_1{}^2 p_2{}^2\right)}
\end{dmath*}

\begin{dmath*}\breakingcomma
\frac{p_2{}^2 p_1{}^{\mu }}{2 \left(p_1\cdot p_2\right) \left(k^2\right)^2.(k-p_1){}^2.(k-p_2){}^2}-\frac{p_1{}^{\mu }}{2 \left(p_1\cdot p_2\right) \left(k^2\right)^2.(k-p_1){}^2}-\frac{p_2{}^{\mu } \left(p_1\cdot p_2\right)-p_2{}^2 p_1{}^{\mu }}{2 \left(k^2\right)^2.(k-p_2){}^2 (p_1\cdot p_2){}^2}-\frac{p_2{}^2 p_1{}^{\mu }-p_1{}^{\mu } \left(p_1\cdot p_2\right)-p_2{}^{\mu } \left(p_1\cdot p_2\right)}{2 k^2.(k-p_1){}^2.(k-p_2){}^2 (p_1\cdot p_2){}^2}
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{OneLoopSimplify}\OperatorTok{[}\NormalTok{FAD}\OperatorTok{[}\FunctionTok{k} \SpecialCharTok{{-}} \FunctionTok{Subscript}\OperatorTok{[}\FunctionTok{p}\OperatorTok{,} \DecValTok{1}\OperatorTok{],} \FunctionTok{k} \SpecialCharTok{{-}} \FunctionTok{Subscript}\OperatorTok{[}\FunctionTok{p}\OperatorTok{,} \DecValTok{2}\OperatorTok{]]}\NormalTok{ SPD}\OperatorTok{[}\FunctionTok{k}\OperatorTok{,} \FunctionTok{l}\OperatorTok{]}\SpecialCharTok{\^{}}\DecValTok{2}\OperatorTok{,} \FunctionTok{k}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
-\frac{D (l\cdot p_1){}^2+D (l\cdot p_2){}^2+2 D \left(l\cdot p_2\right) \left(l\cdot p_1\right)-l^2 p_1{}^2-l^2 p_2{}^2-4 \left(l\cdot p_2\right) \left(l\cdot p_1\right)+2 l^2 \left(p_1\cdot p_2\right)}{4 (1-D) k^2.(k-p_1+p_2){}^2}
\end{dmath*}
\end{document}
