% !TeX program = pdflatex
% !TeX root = PairContract.tex

\documentclass[../FeynCalcManual.tex]{subfiles}
\begin{document}
\hypertarget{paircontract}{
\section{PairContract}\label{paircontract}\index{PairContract}}

\texttt{PairContract} is like \texttt{Pair}, but with (local)
contraction properties. The function fully supports the BMHV algebra and
will expand momenta inside scalar products when it leads to simpler
expressions.

\texttt{PairContract} is an auxiliary function used in higher level
FeynCalc functions that require fast contractions between multiple
expressions, where \texttt{Contract} would be too slow.

\subsection{See also}

\hyperlink{toc}{Overview}, \hyperlink{contract}{Contract},
\hyperlink{paircontract2}{PairContract2},
\hyperlink{paircontract3}{PairContract3}.

\subsection{Examples}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Pair}\OperatorTok{[}\NormalTok{LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]],}\NormalTok{ Momentum}\OperatorTok{[}\FunctionTok{p}\OperatorTok{]]}\NormalTok{ Pair}\OperatorTok{[}\NormalTok{LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]],}\NormalTok{ Momentum}\OperatorTok{[}\FunctionTok{q}\OperatorTok{]]} 
 
\SpecialCharTok{\%} \OtherTok{/.}\NormalTok{ Pair }\OtherTok{{-}\textgreater{}}\NormalTok{ PairContract}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\overline{p}^{\mu } \overline{q}^{\mu }
\end{dmath*}

\begin{dmath*}\breakingcomma
\overline{p}\cdot \overline{q}
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Pair}\OperatorTok{[}\NormalTok{LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]],}\NormalTok{ Momentum}\OperatorTok{[}\FunctionTok{p}\OperatorTok{]]}\NormalTok{ Pair}\OperatorTok{[}\NormalTok{LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Nu}\OperatorTok{]],}\NormalTok{ Momentum}\OperatorTok{[}\FunctionTok{q}\OperatorTok{]]}\NormalTok{ Pair}\OperatorTok{[}\NormalTok{LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]],}\NormalTok{ LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Nu}\OperatorTok{]]]} 
 
\SpecialCharTok{\%} \OtherTok{/.}\NormalTok{ Pair }\OtherTok{{-}\textgreater{}}\NormalTok{ PairContract}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\overline{p}^{\mu } \overline{q}^{\nu } \bar{g}^{\mu \nu }
\end{dmath*}

\begin{dmath*}\breakingcomma
\overline{p}\cdot \overline{q}
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Pair}\OperatorTok{[}\NormalTok{LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]],}\NormalTok{ Momentum}\OperatorTok{[}\FunctionTok{p} \SpecialCharTok{+} \FunctionTok{q}\OperatorTok{]]}\NormalTok{ Pair}\OperatorTok{[}\NormalTok{LorentzIndex}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]],}\NormalTok{ Momentum}\OperatorTok{[}\FunctionTok{r} \SpecialCharTok{+} \FunctionTok{s}\OperatorTok{]]} 
 
\SpecialCharTok{\%} \OtherTok{/.}\NormalTok{ Pair }\OtherTok{{-}\textgreater{}}\NormalTok{ PairContract}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\left(\overline{p}+\overline{q}\right)^{\mu } \left(\overline{r}+\overline{s}\right)^{\mu }
\end{dmath*}

\begin{dmath*}\breakingcomma
(\overline{p}+\overline{q})\cdot (\overline{r}+\overline{s})
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{FCClearScalarProducts}\OperatorTok{[]}\NormalTok{;}
\NormalTok{SP}\OperatorTok{[}\NormalTok{p1}\OperatorTok{,}\NormalTok{ p2}\OperatorTok{]} \ExtensionTok{=}\NormalTok{ s2;}
\NormalTok{SP}\OperatorTok{[}\NormalTok{p1}\OperatorTok{,}\NormalTok{ p3}\OperatorTok{]} \ExtensionTok{=}\NormalTok{ s3;}
\NormalTok{FCI}\OperatorTok{[}\NormalTok{SP}\OperatorTok{[}\NormalTok{p1}\OperatorTok{,}\NormalTok{ p2 }\SpecialCharTok{+}\NormalTok{ p3}\OperatorTok{]]} \OtherTok{/.}\NormalTok{ Pair }\OtherTok{{-}\textgreater{}}\NormalTok{ PairContract}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\text{s2}+\text{s3}
\end{dmath*}
\end{document}
