% !TeX program = pdflatex
% !TeX root = TR.tex

\documentclass[../FeynCalcManual.tex]{subfiles}
\begin{document}
\begin{Shaded}
\begin{Highlighting}[]
 
\end{Highlighting}
\end{Shaded}

\hypertarget{tr}{
\section{TR}\label{tr}\index{TR}}

\texttt{TR[\allowbreak{}exp]} calculates the Dirac trace of
\texttt{exp}. Depending on the setting of the option \texttt{SUNTrace}
also a trace over \(SU(N)\) objects is performed.

\texttt{TR[\allowbreak{}list]} finds the trace of the matrix or tensor
list.

\texttt{TR[\allowbreak{}list,\ \allowbreak{}f]} finds a generalized
trace, combining terms with f instead of \texttt{Plus}.

\texttt{TR[\allowbreak{}list,\ \allowbreak{}f,\ \allowbreak{}n]} goes
down to level \texttt{n} in \texttt{list}.

\texttt{TR[\allowbreak{}expression]} calculates the \texttt{DiracTrace},
i.e., \texttt{TR[\allowbreak{}expression]} if any of
\texttt{DiracGamma}, \texttt{GA}, \texttt{GAD}, \texttt{GS} or
\texttt{GSD} is present in expression.

\subsection{See also}

\hyperlink{toc}{Overview}, \hyperlink{diracsimplify}{DiracSimplify},
\hyperlink{diractrace}{DiracTrace},
\hyperlink{fermionspinsum}{FermionSpinSum},
\hyperlink{suntrace}{SUNTrace}.

\subsection{Examples}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{GA}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{],} \SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Nu}\OperatorTok{]]} 
 
\FunctionTok{TR}\OperatorTok{[}\SpecialCharTok{\%}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\bar{\gamma }^{\mu }.\bar{\gamma }^{\nu }
\end{dmath*}

\begin{dmath*}\breakingcomma
4 \bar{g}^{\mu \nu }
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{TR}\OperatorTok{[}\NormalTok{(GSD}\OperatorTok{[}\FunctionTok{p}\OperatorTok{]} \SpecialCharTok{+} \FunctionTok{m}\NormalTok{) . GAD}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]]}\NormalTok{ . (GSD}\OperatorTok{[}\FunctionTok{q}\OperatorTok{]} \SpecialCharTok{{-}} \FunctionTok{m}\NormalTok{) . GAD}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Nu}\OperatorTok{]]]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
-4 \left(m^2 g^{\mu \nu }+g^{\mu \nu } (p\cdot q)-p^{\nu } q^{\mu }-p^{\mu } q^{\nu }\right)
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{TR}\OperatorTok{[}\NormalTok{GA}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{],} \SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Nu}\OperatorTok{],} \SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Rho}\OperatorTok{],} \SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Sigma}\OperatorTok{],} \DecValTok{5}\OperatorTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
-4 i \bar{\epsilon }^{\mu \nu \rho \sigma }
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{TR}\OperatorTok{[}\NormalTok{GS}\OperatorTok{[}\FunctionTok{p}\OperatorTok{,} \FunctionTok{q}\OperatorTok{,} \FunctionTok{r}\OperatorTok{,} \FunctionTok{s}\OperatorTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
4 \left(\left(\overline{p}\cdot \overline{s}\right) \left(\overline{q}\cdot \overline{r}\right)-\left(\overline{p}\cdot \overline{r}\right) \left(\overline{q}\cdot \overline{s}\right)+\left(\overline{p}\cdot \overline{q}\right) \left(\overline{r}\cdot \overline{s}\right)\right)
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{TR}\OperatorTok{[}\NormalTok{(GS}\OperatorTok{[}\FunctionTok{p}\OperatorTok{]} \SpecialCharTok{+} \FunctionTok{m}\NormalTok{) . GA}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]]}\NormalTok{ . (GS}\OperatorTok{[}\FunctionTok{q}\OperatorTok{]} \SpecialCharTok{+} \FunctionTok{m}\NormalTok{) . GA}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{]],}\NormalTok{ Factoring }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
8 \left(2 m^2-\overline{p}\cdot \overline{q}\right)
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{TR}\OperatorTok{[}\NormalTok{GA}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Alpha}\OperatorTok{],} \SpecialCharTok{\textbackslash{}}\OperatorTok{[}\FunctionTok{Beta}\OperatorTok{]],}\NormalTok{ FCE }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
4 \bar{g}^{\alpha \beta }
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{GA}\OperatorTok{[}\SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Mu}\OperatorTok{],} \SpecialCharTok{\textbackslash{}}\OperatorTok{[}\NormalTok{Nu}\OperatorTok{]]}\NormalTok{ SUNT}\OperatorTok{[}\FunctionTok{b}\OperatorTok{]}\NormalTok{ . SUNT}\OperatorTok{[}\FunctionTok{c}\OperatorTok{]}\NormalTok{ SUNDelta}\OperatorTok{[}\FunctionTok{c}\OperatorTok{,} \FunctionTok{b}\OperatorTok{]} 
 
\FunctionTok{TR}\OperatorTok{[}\SpecialCharTok{\%}\OperatorTok{,}\NormalTok{ SUNTrace }\OtherTok{{-}\textgreater{}} \ConstantTok{False}\OperatorTok{,}\NormalTok{ SUNNToCACF }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{]} 
 
\FunctionTok{TR}\OperatorTok{[}\SpecialCharTok{\%\%}\OperatorTok{,}\NormalTok{ SUNTrace }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{,}\NormalTok{ SUNNToCACF }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\begin{dmath*}\breakingcomma
\delta ^{bc} T^b.T^c \bar{\gamma }^{\mu }.\bar{\gamma }^{\nu }
\end{dmath*}

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0ot3t654zfwoj.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0ghd8b8tpozaa.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0hz7g0pbjf1j9.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0hw442jsqmu7m.pdf}
\end{figure}
\FloatBarrier

\begin{dmath*}\breakingcomma
4 C_F \bar{g}^{\mu \nu }
\end{dmath*}

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0yp1tcn7js8vw.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/1ws0yyvp2z6rk.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/14q9vfcl2ne33.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/078irs7exvkqw.pdf}
\end{figure}
\FloatBarrier

\begin{dmath*}\breakingcomma
4 C_F \bar{g}^{\mu \nu }
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{TR}\OperatorTok{[}\DecValTok{1}\OperatorTok{,}\NormalTok{ SUNTrace }\OtherTok{{-}\textgreater{}} \ConstantTok{False}\OperatorTok{,}\NormalTok{ SUNNToCACF }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/092oi250umo62.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/1kxrxifnbycah.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0ejd5087k1e3u.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0r8qqzg2cmsx4.pdf}
\end{figure}
\FloatBarrier

\begin{dmath*}\breakingcomma
4
\end{dmath*}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{TR}\OperatorTok{[}\DecValTok{1}\OperatorTok{,}\NormalTok{ SUNTrace }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{,}\NormalTok{ SUNNToCACF }\OtherTok{{-}\textgreater{}} \ConstantTok{True}\OperatorTok{]}
\end{Highlighting}
\end{Shaded}

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/0hdji48sjs0uw.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/1va2upktn7wft.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/1fzren43hocdr.pdf}
\end{figure}
\FloatBarrier

\FloatBarrier
\begin{figure}[!ht]
\centering
\includegraphics[width=0.6\linewidth]{img/12gtp4iazvrd5.pdf}
\end{figure}
\FloatBarrier

\begin{dmath*}\breakingcomma
4
\end{dmath*}
\end{document}
